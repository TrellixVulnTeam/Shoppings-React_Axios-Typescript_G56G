{"ast":null,"code":"var _jsxFileName = \"/Users/ike/Documents/nodejs-express-sequelize-mysql/react-axios-typescript/src/components/tutorials-list.component.tsx\";\nimport { Component } from \"react\";\nimport TutorialDataService from \"../services/tutorial.service\";\nimport { Table } from \"react-bootstrap\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class TutorialsList extends Component {\n  // CONSTRUCTOR\n  constructor(props, props2) {\n    super(props);\n    this.onChangeSearchTitle = this.onChangeSearchTitle.bind(this);\n    this.retrieveTutorials = this.retrieveTutorials.bind(this);\n    this.refreshList = this.refreshList.bind(this);\n    this.setActiveTutorial = this.setActiveTutorial.bind(this);\n    this.removeAllTutorials = this.removeAllTutorials.bind(this);\n    this.searchTitle = this.searchTitle.bind(this);\n    this.state = {\n      tutorials: [],\n      currentTutorial: null,\n      currentIndex: -1,\n      searchTitle: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.retrieveTutorials();\n  }\n\n  onChangeSearchTitle(e) {\n    const searchTitle = e.target.value;\n    this.setState({\n      searchTitle: searchTitle\n    });\n  }\n\n  retrieveTutorials() {\n    TutorialDataService.getAll().then(response => {\n      this.setState({\n        tutorials: response.data\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  refreshList() {\n    this.retrieveTutorials();\n    this.setState({\n      currentTutorial: null,\n      currentIndex: -1\n    });\n  }\n\n  setActiveTutorial(tutorial, index) {\n    this.setState({\n      currentTutorial: tutorial,\n      currentIndex: index\n    });\n  } // METHOD OR FUNCTION\n  //DELETE\n\n\n  deleteCustomer(id) {\n    axios.delete(`http://localhost:8000/tutorials/${id}`).then(data => {\n      const index = this.state.tutorials.findIndex(tutorial => tutorial.id === id);\n      this.state.tutorials.splice(index, 1); //this.props.history.push('/');\n    });\n  }\n\n  removeAllTutorials() {\n    TutorialDataService.deleteAll().then(response => {\n      console.log(response.data);\n      this.refreshList();\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  searchTitle() {\n    this.setState({\n      currentTutorial: null,\n      currentIndex: -1\n    });\n    TutorialDataService.findByTitle(this.state.searchTitle).then(response => {\n      this.setState({\n        tutorials: response.data\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    const {\n      searchTitle,\n      tutorials,\n      currentTutorial,\n      currentIndex\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Search by title\",\n            value: searchTitle,\n            onChange: this.onChangeSearchTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group-append\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-secondary\",\n              type: \"button\",\n              onClick: this.searchTitle,\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Tutorials List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          bordered: true,\n          hover: true,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Detail\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 19\n            }, this)\n          }, \"thead\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: tutorials && tutorials.map(tutorial => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: tutorial.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: tutorial.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-sm btn-outline-secondary\",\n                  onClick: () => this.deleteCustomer(tutorial.id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"m-3 btn btn-sm btn-danger\",\n          onClick: this.removeAllTutorials,\n          children: \"Remove All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/ike/Documents/nodejs-express-sequelize-mysql/react-axios-typescript/src/components/tutorials-list.component.tsx"],"names":["Component","TutorialDataService","Table","axios","TutorialsList","constructor","props","props2","onChangeSearchTitle","bind","retrieveTutorials","refreshList","setActiveTutorial","removeAllTutorials","searchTitle","state","tutorials","currentTutorial","currentIndex","componentDidMount","e","target","value","setState","getAll","then","response","data","console","log","catch","tutorial","index","deleteCustomer","id","delete","findIndex","splice","deleteAll","findByTitle","render","map","title"],"mappings":"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","sourcesContent":["import { Component, ChangeEvent } from \"react\";\nimport TutorialDataService from \"../services/tutorial.service\";\nimport { Link, RouteComponentProps } from \"react-router-dom\";\nimport ITutorialData from '../types/tutorial.type';\nimport { Table } from \"react-bootstrap\";\nimport axios from 'axios';\n\ninterface IState {\n  customers: any[];\n}\ntype Props = {};\n\ntype State = {\n  tutorials: Array<ITutorialData>,\n  currentTutorial: ITutorialData | null,\n  currentIndex: number,\n  searchTitle: string\n};\n\nexport default class TutorialsList extends Component<Props, State>{\n  // CONSTRUCTOR\n  constructor(props: Props, props2: RouteComponentProps) {\n    super(props);\n    this.onChangeSearchTitle = this.onChangeSearchTitle.bind(this);\n    this.retrieveTutorials = this.retrieveTutorials.bind(this);\n    this.refreshList = this.refreshList.bind(this);\n    this.setActiveTutorial = this.setActiveTutorial.bind(this);\n    this.removeAllTutorials = this.removeAllTutorials.bind(this);\n    this.searchTitle = this.searchTitle.bind(this);\n    this.state = {tutorials: [],currentTutorial: null, currentIndex: -1,searchTitle: \"\"};\n  }\n\n\n  componentDidMount() {\n    this.retrieveTutorials();\n  }\n\n  onChangeSearchTitle(e: ChangeEvent<HTMLInputElement>) {\n    const searchTitle = e.target.value;\n    this.setState({\n      searchTitle: searchTitle\n    });\n  }\n\n  retrieveTutorials() {\n    TutorialDataService.getAll()\n      .then(response => {\n        this.setState({\n          tutorials: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  refreshList() {\n    this.retrieveTutorials();\n    this.setState({\n      currentTutorial: null,\n      currentIndex: -1\n    });\n  }\n\n  setActiveTutorial(tutorial: ITutorialData, index: number) {\n    this.setState({\n      currentTutorial: tutorial,\n      currentIndex: index\n    });\n  }\n\n\n  // METHOD OR FUNCTION\n\n  //DELETE\n  public deleteCustomer(id: number) {\n    axios.delete(`http://localhost:8000/tutorials/${id}`).then(data => {\n        const index = this.state.tutorials.findIndex(tutorial => tutorial.id === id);\n        this.state.tutorials.splice(index, 1);\n        //this.props.history.push('/');\n    })\n  }\n\n\n  removeAllTutorials() {\n    TutorialDataService.deleteAll()\n      .then(response => {\n        console.log(response.data);\n        this.refreshList();\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  searchTitle() {\n    this.setState({\n      currentTutorial: null,\n      currentIndex: -1\n    });\n\n    TutorialDataService.findByTitle(this.state.searchTitle)\n      .then(response => {\n        this.setState({\n          tutorials: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  render() {\n    const { searchTitle, tutorials, currentTutorial, currentIndex } = this.state;\n\n    return (\n      <div>\n        \n        <div>\n          <div className=\"input-group mb-3\">\n              <input type=\"text\" className=\"form-control\" placeholder=\"Search by title\" value={searchTitle} onChange={this.onChangeSearchTitle}/>\n              <div className=\"input-group-append\">\n                <button className=\"btn btn-outline-secondary\" type=\"button\"onClick={this.searchTitle}>\n                  Search\n                </button>\n              </div>\n            </div>\n\n            <h4>Tutorials List</h4>\n              <Table striped bordered hover>\n                <thead key=\"thead\">\n                  <tr>\n                    <th>ID</th>\n                    <th>Title</th>\n                    <th>Detail</th>\n                    <th>Edit</th>\n                    <th>Delete</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {tutorials && tutorials.map((tutorial: ITutorialData) => (\n                    <tr>\n                      <td>{tutorial.id}</td>\n                      <td>{tutorial.title}</td>\n                     \n                      \n                      <td>\n                        <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => this.deleteCustomer(tutorial.id)}>Delete</button>\n                      </td>\n                    </tr>\n                  ))}\n                  \n                </tbody>\n              </Table>\n          <button className=\"m-3 btn btn-sm btn-danger\"onClick={this.removeAllTutorials}>\n            Remove All\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}